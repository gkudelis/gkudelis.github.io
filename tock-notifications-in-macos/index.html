<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <meta name="description" content="$title$">
    <meta name="majestic-site-verification" content="MJ12_b7bc5078-8873-4f6e-a61b-6a108fa148fe">

    <title>Blog and Notes of Giedrius Kudelis - 
    Tock notifications in macOS
</title>

    <!-- google web fonts -->
    <link href='https://fonts.googleapis.com/css?family=Josefin+Sans|Josefin+Slab:700' rel='stylesheet' type='text/css'>
    <!-- bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

    <!-- blog css -->
    <link rel="stylesheet" type="text/css" href="/css/default.css" />

    <!-- MathJax for nice formulas -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

    <!-- google analytics -->
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-71163958-1', 'auto');
        ga('send', 'pageview');
    </script>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-4 col-sm-push-8">
                <a href="/"><h1>ekete.net</h1></a>

                <h3>Posts</h3>
                
                
                <ul class="post-list">
    
    <li>
        <span class="date">2019-10-26</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;tail-call-optimisation-in-rust">Tail Call Optimisation in Rust</a>
    </li>
    
    <li>
        <span class="date">2019-05-09</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;developing-for-pebble-using-docker">Developing for Pebble using Docker</a>
    </li>
    
    <li>
        <span class="date">2019-04-03</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;tock-notifications-in-macos">Tock notifications in macOS</a>
    </li>
    
    <li>
        <span class="date">2019-02-27</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;prime-number-generator">Lazy prime number generator in Python</a>
    </li>
    
    <li>
        <span class="date">2019-01-23</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;entr-and-docker">Using entr and Docker together for development</a>
    </li>
    
    <li>
        <span class="date">2018-01-12</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;astonhack-drumhub">AstonHack 2016 and DrumHub</a>
    </li>
    
    <li>
        <span class="date">2016-03-06</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;dotfiles-in-git">Dotfiles in git</a>
    </li>
    
    <li>
        <span class="date">2015-12-08</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;google-analytics">Getting Google Analytics</a>
    </li>
    
    <li>
        <span class="date">2015-12-03</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;log-monitor">Log monitor using socat, rtail, nginx and supervisor</a>
    </li>
    
    <li>
        <span class="date">2015-11-03</span>
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;first-post">First post</a>
    </li>
    
</ul>

            </div>
            <div class="col-sm-8 col-sm-pull-4">
                
<div class="post">
    <h2>Tock notifications in macOS</h2>
    <p class="info">
        Published: 2019-04-03
        
        <br>Tags:
        
        <a href="https:&#x2F;&#x2F;ekete.net&#x2F;tags&#x2F;other&#x2F;">other</a>
        
    </p>
    <p>Quite a while ago I've come across the concept of tocks on the
<a href="https://blog.beeminder.com/tocks/">Beeminder Blog</a> and started using them when
I work. The general idea is that you work in 45 minute uninterrupted chunks and
count the number of these you do in a day. I've noticed it works well for me
and stuck with it.</p>
<p>I was going about it in quite a lazy way tool-wise - I'd simply find a timer
that would run in a browser tab, set it to 45 minutes and use that. However,
the only way for it to notify me is if I set an audible alarm. Recently I
found myself at a library without headphones and recognizing not everyone might
appreciate the loud alarm going off.</p>
<p>I'm on a Mac, so an alert that applications can show in the upper right corner
seemed like a natural solution - I looked for a CLI tool to display alerts and
found <a href="https://github.com/julienXX/terminal-notifier">terminal-notifier</a>. It
works great, but it shows a message immediately when you call it and I needed a
timeout. I also quite like to be able to check how much time I have left in the
current tock and be able to pause it when needed, so it would be nice to do
something more clever than <code>sleep 2700</code>. A great solution is using another tool
called <a href="https://github.com/trehn/termdown">termdown</a>, which displays a nice
ASCII art countdown in your terminal window and lets you pause it using the
space key. You can also add a suffix to signify hours or minutes. I am calling
it as</p>
<pre style="background-color:#002b36;">
<span style="color:#268bd2;">termdown</span><span style="color:#839496;"> 45m
</span></pre>
<p>When the time runs out <code>termdown</code> simply exits, so I was combining it with
<code>terminal-notifier</code> like this:</p>
<pre style="background-color:#002b36;">
<span style="color:#268bd2;">termdown</span><span style="color:#839496;"> 45m </span><span style="color:#859900;">&amp;&amp; </span><span style="color:#268bd2;">terminal-notifier -title </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Tock</span><span style="color:#839496;">&quot;</span><span style="color:#268bd2;"> -message </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Your tock is over</span><span style="color:#839496;">&quot;
</span></pre>
<p>This is great, but the alert simply disappears after a couple of seconds. What
if I miss it? After all, sometimes when I'm not typing or reading I'm not just
staring at the screen... I wanted the alert to have buttons and stick around
until I explicitly close it, however, <code>terminal-notifier</code> doesn't let you do
that. In the README it suggests using
<a href="https://github.com/vjeantet/alerter">alerter</a> if you want this kind of
functionality. Calling <code>alerter</code> with the same arguments as <code>terminal-notifier</code>
gives me exactly what I want and now I'm using this:</p>
<pre style="background-color:#002b36;">
<span style="color:#268bd2;">termdown</span><span style="color:#839496;"> 45m </span><span style="color:#859900;">&amp;&amp; </span><span style="color:#268bd2;">alerter -title </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Tock</span><span style="color:#839496;">&quot;</span><span style="color:#268bd2;"> -message </span><span style="color:#839496;">&quot;</span><span style="color:#2aa198;">Your tock is over</span><span style="color:#839496;">&quot;
</span></pre>
<p>This works well, gives me a nice countdown and I'm sure to notice the alert as
it sticks around until I close it. No need to disturb my library neighbors!</p>

</div>

            </div>
        </div>
    </div>

</body>
</html>
